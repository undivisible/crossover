<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="color-scheme" content="light dark" />
		<meta
			http-equiv="Content-Security-Policy"
			content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'; img-src 'self' asset: data: blob:;"
		/>
		<title>CrossOver</title>
		<link rel="stylesheet" href="/src-frontend/styles/index.scss" />
	</head>
	<body>
		<!-- Main crosshair container -->
		<div id="app" class="crossover-app">
			<!-- Crosshair wrapper - centered in window -->
			<div id="crosshair-wrapper" class="crosshair-wrapper">
				<!-- The crosshair image -->
				<img
					id="crosshair"
					class="crosshair"
					src="/crosshairs/crosshair-default.png"
					alt="Crosshair"
					draggable="false"
				/>

				<!-- Optional reticle overlay -->
				<svg
					id="reticle"
					class="reticle hidden"
					viewBox="0 0 100 100"
					xmlns="http://www.w3.org/2000/svg"
				>
					<!-- Circle reticle -->
					<circle
						id="reticle-circle"
						class="reticle-shape reticle-circle hidden"
						cx="50"
						cy="50"
						r="30"
						fill="none"
						stroke="currentColor"
						stroke-width="2"
					/>
					<!-- Cross reticle -->
					<g
						id="reticle-cross"
						class="reticle-shape reticle-cross hidden"
					>
						<line
							x1="50"
							y1="20"
							x2="50"
							y2="40"
							stroke="currentColor"
							stroke-width="2"
						/>
						<line
							x1="50"
							y1="60"
							x2="50"
							y2="80"
							stroke="currentColor"
							stroke-width="2"
						/>
						<line
							x1="20"
							y1="50"
							x2="40"
							y2="50"
							stroke="currentColor"
							stroke-width="2"
						/>
						<line
							x1="60"
							y1="50"
							x2="80"
							y2="50"
							stroke="currentColor"
							stroke-width="2"
						/>
					</g>
					<!-- Dot reticle -->
					<circle
						id="reticle-dot"
						class="reticle-shape reticle-dot hidden"
						cx="50"
						cy="50"
						r="4"
						fill="currentColor"
					/>
				</svg>
			</div>

			<!-- Drag handle (visible when unlocked) -->
			<div id="drag-handle" class="drag-handle">
				<div class="drag-handle-icon">
					<svg viewBox="0 0 24 24" fill="currentColor">
						<path
							d="M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z"
						/>
					</svg>
				</div>
			</div>

			<!-- Lock indicator -->
			<div id="lock-indicator" class="lock-indicator hidden">
				<svg viewBox="0 0 24 24" fill="currentColor">
					<path
						d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"
					/>
				</svg>
			</div>

			<!-- Settings button (visible when unlocked) -->
			<button id="settings-button" class="settings-button">
				<svg viewBox="0 0 24 24" fill="currentColor">
					<path
						d="M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"
					/>
				</svg>
			</button>

			<!-- Context menu trigger area -->
			<div id="menu-trigger" class="menu-trigger"></div>
		</div>

		<!-- Settings panel (hidden by default) -->
		<div id="settings-panel" class="settings-panel hidden">
			<div class="settings-header">
				<h2>Settings</h2>
				<button
					id="settings-close"
					class="settings-close"
					aria-label="Close settings"
				>
					<svg viewBox="0 0 24 24" fill="currentColor">
						<path
							d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"
						/>
					</svg>
				</button>
			</div>

			<div class="settings-content">
				<!-- Crosshair selection -->
				<section class="settings-section">
					<h3>Crosshair</h3>
					<div id="crosshair-grid" class="crosshair-grid">
						<!-- Crosshair options will be populated by JavaScript -->
					</div>
				</section>

				<!-- Size control -->
				<section class="settings-section">
					<h3>Size</h3>
					<div class="slider-control">
						<input
							type="range"
							id="size-slider"
							min="10"
							max="500"
							value="100"
							class="slider"
						/>
						<span id="size-value" class="slider-value">100px</span>
					</div>
				</section>

				<!-- Opacity control -->
				<section class="settings-section">
					<h3>Opacity</h3>
					<div class="slider-control">
						<input
							type="range"
							id="opacity-slider"
							min="0"
							max="100"
							value="100"
							class="slider"
						/>
						<span id="opacity-value" class="slider-value"
							>100%</span
						>
					</div>
				</section>

				<!-- Color picker -->
				<section class="settings-section">
					<h3>Color</h3>
					<div class="color-control">
						<input
							type="color"
							id="color-picker"
							value="#00FF00"
							class="color-picker"
						/>
						<input
							type="text"
							id="color-input"
							value="#00FF00"
							class="color-input"
						/>
					</div>
				</section>

				<!-- Reticle selection -->
				<section class="settings-section">
					<h3>Reticle</h3>
					<div class="reticle-options">
						<button
							class="reticle-option active"
							data-reticle="none"
						>
							None
						</button>
						<button class="reticle-option" data-reticle="circle">
							Circle
						</button>
						<button class="reticle-option" data-reticle="cross">
							Cross
						</button>
						<button class="reticle-option" data-reticle="dot">
							Dot
						</button>
					</div>
				</section>

				<!-- Actions -->
				<section class="settings-section">
					<h3>Actions</h3>
					<div class="action-buttons">
						<button id="btn-center" class="action-btn">
							Center
						</button>
						<button id="btn-reset" class="action-btn">Reset</button>
						<button id="btn-duplicate" class="action-btn">
							Duplicate
						</button>
					</div>
				</section>
			</div>
		</div>

		<!-- Crosshair chooser modal -->
		<div id="chooser-modal" class="modal hidden">
			<div class="modal-content">
				<div class="modal-header">
					<h2>Choose Crosshair</h2>
					<button
						id="chooser-close"
						class="modal-close"
						aria-label="Close"
					>
						<svg viewBox="0 0 24 24" fill="currentColor">
							<path
								d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"
							/>
						</svg>
					</button>
				</div>
				<div id="chooser-grid" class="chooser-grid">
					<!-- Crosshair options will be populated by JavaScript -->
				</div>
				<div class="modal-footer">
					<button id="btn-import" class="btn-secondary">
						Import Custom...
					</button>
				</div>
			</div>
		</div>

		<!-- About modal -->
		<div id="about-modal" class="modal hidden">
			<div class="modal-content modal-about">
				<div class="modal-header">
					<h2>About CrossOver</h2>
					<button
						id="about-close"
						class="modal-close"
						aria-label="Close"
					>
						<svg viewBox="0 0 24 24" fill="currentColor">
							<path
								d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"
							/>
						</svg>
					</button>
				</div>
				<div class="about-content">
					<div class="about-logo">
						<img
							src="/crosshairs/crosshair-default.png"
							alt="CrossOver"
						/>
					</div>
					<h1>CrossOver</h1>
					<p class="version">Version 4.0.0 (Tauri Edition)</p>
					<p class="description">
						A customizable crosshair overlay for any screen. Improve
						your aim with a permanent colored crosshair.
					</p>
					<p class="author">
						Created by
						<a href="https://lacymorrow.com" target="_blank"
							>Lacy Morrow</a
						>
					</p>
					<div class="about-links">
						<a
							href="https://github.com/lacymorrow/crossover"
							target="_blank"
							>GitHub</a
						>
						<a
							href="https://github.com/lacymorrow/crossover/issues"
							target="_blank"
							>Report Issue</a
						>
					</div>
				</div>
			</div>
		</div>

		<!-- Toast notifications container -->
		<div id="toast-container" class="toast-container"></div>

		<!-- Main application script -->
		<script type="module" src="/src-frontend/main.ts"></script>
	</body>
</html>
